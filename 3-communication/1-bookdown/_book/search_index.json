[
["index.html", "Communities of Opportunity Displacement Risk Assessment Preface", " Communities of Opportunity Displacement Risk Assessment A User Guide Tiernan Martin, Futurewise Fall 2016 Preface This is a work in-progress. "],
["data-methods.html", "A Data Methods ", " A Data Methods "],
["miscellaneous.html", "A.1 Miscellaneous", " A.1 Miscellaneous A.1.1 Seattle Boundary FIGURE A.1: Seattle’s geographic boundary A.1.2 King County Subdivision Boundary FIGURE A.2: Seattle Subdivision of King County’s geographic boundary A.1.3 Tracts in King County Although this assessment is primarily focused on three communities within the Seattle CCD subdivision of King County, one of the indicators (housing market conditions) uses neighboring tracts to determine displacement risk. Some of the neighboring tracts are part of other county subdivision, but rather than targeting just those specific tracts, this method collects data for all King County tracts and then runs the analysis on the appropriate subsets. In the absence of a straight-forward method for identifying all the census tracts in the Seattle CCD subdivision of King County, it is possible to extract this information from American Factfinder. This tutorial describes how to use the American Factfinder interface to extract a list of all “all tracts within (or partially within) a census place”; substituting “county subdivision” for “place” will retrieve the desired results. A.1.4 Puget Sound Waterbodies These are useful for “clipping” census geographies whose boundaries extend into waterbodies. FIGURE A.3: Puget Sound waterbodies A.1.5 KC Tracts Without (Western) Waterbodies A.1.6 King County Without (Western) Waterbodies "],
["census-geographies-spatial-data.html", "A.2 Census Geographies: Spatial Data", " A.2 Census Geographies: Spatial Data A.2.1 Introduction Put something here. A.2.1.1 Commmunities and Census Tracts The primary geographic unit of this assessment is the census tract. As is the case with many communities, the census geographies do not coincide exactly with the formal geographic boundary of the study’s three sites, and should be considered as spatial approximations of these communities. Listed below are the geographic identifiers of the census tracts that approximate each site. TABLE A.1: Census Tract GEOIDs Rainier Valley White Center SeaTac/Tukwila 53033010001 53033026600 53033026200 53033010300 53033026700 53033027300 53033010401 53033026500 53033028000 53033011001 53033026801 53033028100 53033011002 53033026802 53033028300 53033011101 53033027000 53033028402 53033011102 NA 53033028403 53033011700 NA 53033028500 53033011800 NA 53033028700 53033011900 NA 53033028801 NA NA 53033028802 NA NA 53033029101 NA NA 53033026100 NA NA 53033026200 NA NA 53033026300 NA NA 53033026400 NA NA 53033027100 NA NA 53033027200 NA NA 53033027300 NA NA 53033028100 NA NA 53033028200 NA NA 53033028300 NA NA 53033028802 A.2.1.2 Mixed Census Geographies There are many ways to collect US Census data, but this method uses the R package called acs to extract data with the official US Census API. This method is efficient, reproducible, and allows users to download census tables for a group of dissimilar geographies. To learn more about this, see the acs documentation. The following census geographies will be useful to collect for this analysis: tracts, King County combined tracts, each COO community individually and all three combined together county subdivision, Seattle CCD county, King The geospatial and tabular data is stored in a simple feature object, which simplifies analysis by allowing all geography types to be transformed and queried at the same time. Here is a summary of the simple feature object, showing a few examples of each geography type: FALSE Source: local data frame [9 x 4] FALSE Groups: GEOGRAPHY [5] FALSE FALSE NAME NAME_FULL GEOGRAPHY FALSE &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; FALSE 1 &lt;NA&gt; &lt;NA&gt; tract FALSE 2 &lt;NA&gt; &lt;NA&gt; tract FALSE 3 &lt;NA&gt; &lt;NA&gt; tract FALSE 4 RV Rainier Valley community FALSE 5 STKW SeaTac/Tukwila community FALSE 6 WC White Center community FALSE 7 COO COO Communities (combined) communities (multiple) FALSE 8 SEACCD Seattle CCD county subdivision FALSE 9 KC King County county FALSE # ... with 1 more variables: geometry &lt;simple_feature&gt; A.2.2 Maps A.2.2.1 Seattle CCD Tracts A.2.2.2 COO Tract-Communities #htmlwidget-4966b4e71a12e6af0d74 {float:left;margin:1px} FIGURE A.4: Rainier Valley, White Center, and SeaTac/Tukwila #htmlwidget-9f68129313583593810d {float:left;margin:1px} FIGURE A.4: Rainier Valley, White Center, and SeaTac/Tukwila #htmlwidget-05e8b9ce562a24f5d89b {float:left;margin:1px} FIGURE A.4: Rainier Valley, White Center, and SeaTac/Tukwila "],
["census-geographies-acs-geo-sets.html", "A.3 Census Geographies: ACS Geo Sets", " A.3 Census Geographies: ACS Geo Sets A.3.1 ACS Geo Set This geoset is mixture of geography type including: tracts, King County combined tracts, each COO community individually and all three combined together county subdivision, Seattle CCD # Setup the ACS geographies: King County (tracts), Seattle CCD (), COO Communities (tracts) # ----------------------------------------------------------------------------- coo_geos_sf &lt;- read_rds(root_file(&#39;1-data/4-interim/coo-geos-sf.rds&#39;)) get_geoid &lt;- function(x,nm){ x %&gt;% filter(NAME %in% nm &amp; !is.na(GEOID6)) %&gt;% select(GEOID6) %&gt;% unlist(use.names = FALSE) %&gt;% as.numeric } tr_rv &lt;- get_geoid(coo_geos_sf,&#39;RV&#39;) tr_wc &lt;- get_geoid(coo_geos_sf,&#39;WC&#39;) tr_stkw &lt;- get_geoid(coo_geos_sf,&#39;STKW&#39;) tr_coo &lt;- get_geoid(coo_geos_sf, c(&#39;RV&#39;,&#39;WC&#39;,&#39;STKW&#39;)) # King County (Puget Sound excluded) tr_kc &lt;- read_rds(root_file(&#39;1-data/4-interim/tr-kc-sf.rds&#39;)) %&gt;% select(TRACTCE) %&gt;% unlist(use.names = FALSE) %&gt;% as.numeric # Final Object: 2010-2014 coo_geo_acs &lt;- c( acs::geo.make(state = &quot;WA&quot;,county = &quot;King&quot;), acs::geo.make(state = &quot;WA&quot;, county = &quot;King&quot;,county.subdivision = &quot;Seattle CCD&quot;), acs::geo.make(state = &quot;WA&quot;,county = &quot;King&quot;, tract = tr_kc), acs::geo.make(state = &quot;WA&quot;,county = &quot;King&quot;, tract = tr_rv, combine = TRUE, combine.term = &#39;RV&#39;), acs::geo.make(state = &quot;WA&quot;,county = &quot;King&quot;, tract =tr_wc, combine = TRUE, combine.term = &#39;WC&#39;), acs::geo.make(state = &quot;WA&quot;,county = &quot;King&quot;, tract = tr_stkw, combine = TRUE, combine.term = &#39;STKW&#39;), acs::geo.make(state = &quot;WA&quot;,county = &quot;King&quot;, tract = tr_coo, combine = TRUE, combine.term = &#39;COO&#39;) ) %&gt;% write_rds(root_file(&#39;1-data/4-interim/coo-geo-acs.rds&#39;)) A.3.2 Matching Tracts between the years Census tract change over time and this must be accounted for before a temporal comparison be take place. Brown University’s Longitudinal Tract Database provides “crosswalk” datasets that clarify which tract change from decade to decade and what type of change occurred (e.g., consolidation, split, many-to-many, none). Using the 2000-2010 crosswalk, a customized set of ACS geographies is prepared to ensure that the data between observation periods are comparable. This dataset is included in this repository, but may also be downloaded here. # Save an acs object c( acs::geo.make(state = &quot;WA&quot;,county = &quot;King&quot;), acs::geo.make(state = &quot;WA&quot;, county = &quot;King&quot;,county.subdivision = &quot;Seattle CCD&quot;), acs::geo.make(state = &quot;WA&quot;,county = &quot;King&quot;, tract = &#39;*&#39;) ) %&gt;% write_rds(root_file(&#39;1-data/4-interim/coo-geo-2009-acs.rds&#39;)) "],
["king-county-parcels.html", "A.4 King County Parcels", " A.4 King County Parcels A.4.1 Introduction Tax parcels are the pieces of land associated with property value. King County appraises parcels in order to determine an estimate of the fair market value, which is then used in the process of determening taxation amounts. For the purposes of this assessment, parcels are the geographic unit of the indicator of housing market conditions: residential property value. More information about the parcel dataset is available at the King County GIS Center: KCGIS Center Parcel Shapefile Metadata A.4.2 Parcels in Seattle CCD The entire dataset of King County parcels contains 602,803 records, which makes it challenging to work with because of the file size. The methodology of this project is to compare communities to the Seattle subdivision of King County, so the first step is to extract only the parcels in that geography. The unique identifier for each parcel is called a PIN, and it is a combination of two numeric codes: a six-digit MAJOR (e.g., 092503) and a four-digit MINOR (e.g., 5891). After creating the PIN the PropType variable from the KC assessor’s parcel dataset is joined to the spatial dataset from the KCGIS Center. The spatial dataset’s size is reduced by converting the polygon into points using the rgeos::gCentroid() function. sp::over() is then used to determine which parcels are overlayed by the Seattle CCD polygon (see this excellent tutorial for more details on sp::over()). The subset is exported, retaining its SpatialPointsDataFrame class. # Seattle subdivision of King County, WA (Seattle CCD) sea_ccd &lt;- readOGR(dsn = root_file(&#39;1-data/4-interim/seattle_ccd.gpkg&#39;),layer = &quot;seattle&quot;,verbose = FALSE) %&gt;% spTransform(crs_proj) # Parcels (tabular data only) if(!file.exists(root_file(&#39;1-data/3-external/EXTR_Parcel.csv&#39;))){ url &lt;- &#39;http://aqua.kingcounty.gov/extranet/assessor/Parcel.zip&#39; # direct URL to the file download temp &lt;- tempfile() # create a temporary file to hold the compressed download download(url, dest = temp, mode=&#39;wb&#39;) # download the file unzip (temp, exdir = root_file(&#39;1-data/3-external/&#39;)) # extract the file to the project folder } prcl_all_df &lt;- read_csv(root_file(&#39;1-data/3-external/EXTR_Parcel.csv&#39;),progress = FALSE) %&gt;% mutate(PIN = paste0(Major,Minor)) %&gt;% select(PIN, PropType,CurrentZoning,CurrentUseDesignation) colnames(prcl_all_df) %&lt;&gt;% toupper() # Parcels (sp): most recent (August, 2016) if(!file.exists(root_file(&#39;1-data/3-external/parcel/parcel.shp&#39;))){ url &lt;- &#39;ftp://ftp.kingcounty.gov/gis-web/web/GISData/parcel_SHP.zip&#39; # direct URL to the file download temp &lt;- tempfile() # create a temporary file to hold the compressed download download(url, dest = temp, mode=&#39;wb&#39;) # download the file unzip (temp, exdir = root_file(&#39;1-data/3-external/&#39;)) # extract the file to the project folder } # Load the parcel file # WARNING: large file with long load time # Make the data if(!file.exists(root_file(&#39;1-data/4-interim/prcl-ccd-ptdf-sp.gpkg&#39;))){ prcl_all_sp &lt;- readOGR(dsn = root_file(&#39;1-data/3-external/parcel/&#39;),layer = &#39;parcel&#39;,verbose = FALSE) prcl_all_sp@data %&lt;&gt;% mutate(PIN = as.character(PIN)) # prcl_all_sp %&lt;&gt;% spTransform(crs_proj) # this reprojection is prohibively slow join_df &lt;- prcl_all_sp@data %&gt;% as.data.frame() %&gt;% left_join(.,prcl_all_df, by = &quot;PIN&quot;) # Collect the centroids of all the KC parcels (and transform their CRS to match the project CRS) prcl_all_pt_sp &lt;- prcl_all_sp %&gt;% rgeos::gCentroid(byid = T) %&gt;% spTransform(crs_proj) prcl_all_ptdf_sp &lt;- SpatialPointsDataFrame(prcl_all_pt_sp,join_df,match.ID = FALSE) sea_ccd_poly &lt;- SpatialPolygons(Srl = sea_ccd@polygons,proj4string = crs_proj) # Using the sp::over pts_over &lt;- prcl_all_pt_sp %&gt;% sp::over(sea_ccd_poly) # prcl_ccd_sp &lt;- prcl_all_sp[which(!is.na(pts_over)),] %&gt;% spTransform(crs_proj) # slow prcl_ccd_pt_sp &lt;- prcl_all_pt_sp[which(!is.na(pts_over)),] prcl_ccd_ptdf_sp &lt;- prcl_all_ptdf_sp[which(!is.na(pts_over)),] prcl_ccd_ptdf_sp %&gt;% writeOGR(dsn = root_file(&#39;1-data/4-interim/prcl-ccd-ptdf-sp.gpkg&#39;), layer = &#39;prcl_ccd_ptdf_sp&#39;,driver = &#39;GPKG&#39;, verbose = FALSE, overwrite_layer = TRUE) rm(prcl_all_sp) } # Load the data if(!exists(&#39;prcl_ccd_ptdf_sp&#39;)){ prcl_ccd_ptdf_sp &lt;- readOGR(dsn = root_file(&#39;1-data/4-interim/prcl-ccd-ptdf-sp.gpkg&#39;), layer = &#39;prcl_ccd_ptdf_sp&#39;, verbose = FALSE ) } A.4.3 Assigning Census Tracts to Parcels The sp::over() function is used again, but this time to pass the unique identifier from the census tracts (GEOID) to each parcel that it overlay. This method resolves the issue of parcels that are overlayed by multiple tracts because it uses the centroid of the parcel instead of the polygon. Where the centroid is overlayed by two contiguous tract polygon boundaries only the first tract GEOID will be passed on. # Make the data if(!file.exists(root_file(&#39;1-data/4-interim/prcl-ccd-tr-sp.gpkg&#39;))){ # Seattle CCD tracts if(!exists(&#39;tr_ccd_sp&#39;)){ tr_ccd_sp &lt;- readOGR(dsn = root_file(&#39;1-data/4-interim/tr-ccd-sp.gpkg&#39;), layer = &#39;tr_ccd_sp&#39;, verbose = FALSE) } # Trim the data to just the GEOID variable tr_ccd_geoid_sp &lt;- SpatialPolygonsDataFrame(tr_ccd_sp,tr_ccd_sp@data[&#39;GEOID&#39;]) %&gt;% spTransform(crs_proj) # Extract the census tract GEOID using a spatial overlay prcl_ccd_tr_sp &lt;- SpatialPointsDataFrame(prcl_ccd_ptdf_sp@coords, cbind(prcl_ccd_ptdf_sp@data, sp::over(prcl_ccd_ptdf_sp,tr_ccd_geoid_sp))) prcl_ccd_tr_sp@data %&lt;&gt;% mutate(GEOID = as.character(GEOID)) %&gt;% select(GEOID,everything()) writeOGR(obj = prcl_ccd_tr_sp, dsn = root_file(&#39;1-data/4-interim/prcl-ccd-tr-sp.gpkg&#39;), layer = &#39;prcl_ccd_tr_sp&#39;, driver = &#39;GPKG&#39;, verbose = FALSE, overwrite_layer = TRUE) } # Load the data if(!exists(&#39;prcl_ccd_tr_sp&#39;)){ prcl_ccd_tr_sp &lt;- readOGR(dsn = root_file(&#39;1-data/4-interim/prcl-ccd-tr-sp.gpkg&#39;), layer = &#39;prcl_ccd_tr_sp&#39;, verbose = FALSE) } "],
["vulnerability.html", "A.5 Vulnerability", " A.5 Vulnerability A.5.1 Introduction NOTE: this text is placeholder and must be changed Census tracts were assigned a “vulnerability score” between 0 and 4, with a weight of 1 for each of the following that is true: Greater than XX% of households are renters Greater than XX% of the population are communities of color Greater than XX% of the population 25 years and older do not have a bachelor’s degree Greater than XX% of households have incomes at or below at or below 80% of the HUDadjusted median family income (MFI) [Note: HUD’s FY2015 MFI for the Seattle-Bellevue, WA HUD Metro FMR Area was $89,500.] We defined vulnerable tracts as those with a vulnerability score of at least 3 out of 4. A.5.2 Population Belonging to A Community of Color (%), 2010-2014 A.5.2.1 Plot A.5.2.2 Maps These maps show the proportion of the population that belongs to a community of color for each census tract in Seattle CCD. A.5.2.2.1 Seattle CCD #htmlwidget-8e30a1c5f1683919a827 {text-transform:uppercase;text-shadow:-1px 0 #FFFFFF,0 1px #FFFFFF,1px 0 #FFFFFF,0 -1px #FFFFFF} A.5.2.2.2 COO Communities #htmlwidget-2f3c61a29b4cbdfe4c13 {text-transform:uppercase;text-shadow:-1px 0 #FFFFFF,0 1px #FFFFFF,1px 0 #FFFFFF,0 -1px #FFFFFF} A.5.3 Population in Renter-Occupied Housing Units (%), 2010-2014 A.5.3.0.1 Seattle CCD #htmlwidget-12af3c65c0569c36009d {text-transform:uppercase;text-shadow:-1px 0 #FFFFFF,0 1px #FFFFFF,1px 0 #FFFFFF,0 -1px #FFFFFF} A.5.3.0.2 COO Communities #htmlwidget-aaf205c9a253eab5091e {text-transform:uppercase;text-shadow:-1px 0 #FFFFFF,0 1px #FFFFFF,1px 0 #FFFFFF,0 -1px #FFFFFF} A.5.4 Adults 25+ With Less Than a Bachelor Degree (%), 2010-2014 A.5.4.0.1 Seattle CCD #htmlwidget-bd6d39957efbd5397832 {text-transform:uppercase;text-shadow:-1px 0 #FFFFFF,0 1px #FFFFFF,1px 0 #FFFFFF,0 -1px #FFFFFF} A.5.4.0.2 COO Communities #htmlwidget-f749fccd0de1fe40c638 {text-transform:uppercase;text-shadow:-1px 0 #FFFFFF,0 1px #FFFFFF,1px 0 #FFFFFF,0 -1px #FFFFFF} A.5.5 Household earning less than 80% of the HUD , 2010-2014 This indicator is intended as a proxy for low-income households. There are many possible ways to determine whether a household fits this category, but one commonly-used metric is the area median income (AMI). Generally speaking, households earning less than 80% AMI are considered to be low-income households, as status which has implications for affordable housing eligibility. The Lisa Bates used a fairly precise dataset for this indicator: percent of households that have incomes at or below at or below 80% of the HUD-adjusted median family income (MFI). The data source is HUD’s Consolidated Housing Affordability Strategy (CHAS) as used. Unfortunately, the most recent CHAS data is based on the 2009-2013 ACS 5-year estimate. Rather than introduce an inconsistency in the observation periods of this assessment’s datasets, this method uses an approximation of the 80% AMI metric using the ACS Household Income (B19001), 2010-2014 5-year estimate. This data is structured as household counts within a range of annual household income (e.g. $15,000 to $19,999). The FY 2015 MFI Estimate for Seattle-Bellevue, WA HUD Metro FMR Area is $89,500. In inflation-adjusted 2014 dollars that is $87,732.78, and 80% of that equals $70,200; which puts it within the $60,000 to $74,999 range. Therefore, for this assessment any household with an annual income of $74,999 or less is considered to be low-income. A.5.5.0.1 Seattle CCD #htmlwidget-ec357eb872a525664e68 {text-transform:uppercase;text-shadow:-1px 0 #FFFFFF,0 1px #FFFFFF,1px 0 #FFFFFF,0 -1px #FFFFFF} A.5.5.0.2 COO Communities #htmlwidget-bb187bf3497994542434 {text-transform:uppercase;text-shadow:-1px 0 #FFFFFF,0 1px #FFFFFF,1px 0 #FFFFFF,0 -1px #FFFFFF} "],
["demographic-change.html", "A.6 Demographic Change", " A.6 Demographic Change A.6.1 Introduction NOTE: this text is placeholder and must be changed We defined census tracts with gentrification-related demographic change from 2005-2009 to 2010-2014 as those that experienced either at least 3 of the following 4: The white population share either increased or it decreased less than X.0% The share of homeowners either increased or it decreased less than X% The share of the population 25 years and older with a bachelor’s degree increased more than X% The share of household earning more than 80% AMI increased or it decreased less than X% or experienced only 2 out of 4, which were: The white population share either increased or it decreased less than X% The share of the population 25 years and older with a bachelor’s degree increased more than X% A.6.2 Change in Share of White Population (%), 2005-2009 to 2010-2014 A.6.2.1 Plot A.6.2.2 Maps Add a description sentence A.6.2.2.1 Seattle CCD #htmlwidget-8e036bd669fb42bb16e4 {text-transform:uppercase;text-shadow:-1px 0 #FFFFFF,0 1px #FFFFFF,1px 0 #FFFFFF,0 -1px #FFFFFF} A.6.2.2.2 COO Communities #htmlwidget-83ab412e8f3516f793b2 {text-transform:uppercase;text-shadow:-1px 0 #FFFFFF,0 1px #FFFFFF,1px 0 #FFFFFF,0 -1px #FFFFFF} A.6.3 Change in Share of Adults with a Bachelor Degree or Higher (%), 2005-2009 to 2010-2014 A.6.3.1 Plot A.6.3.2 Maps Add a description sentence A.6.3.2.1 Seattle CCD #htmlwidget-6bd9dddfaa0821b99103 {text-transform:uppercase;text-shadow:-1px 0 #FFFFFF,0 1px #FFFFFF,1px 0 #FFFFFF,0 -1px #FFFFFF} A.6.3.2.2 COO Communities #htmlwidget-32f7454476d3acaa05fe {text-transform:uppercase;text-shadow:-1px 0 #FFFFFF,0 1px #FFFFFF,1px 0 #FFFFFF,0 -1px #FFFFFF} A.6.4 Change in Share of Home Owners (%), 2005-2009 to 2010-2014 A.6.4.1 Plot A.6.4.2 Maps Add a description sentence A.6.4.2.1 Seattle CCD #htmlwidget-d12b9e8e8b2296ddc328 {text-transform:uppercase;text-shadow:-1px 0 #FFFFFF,0 1px #FFFFFF,1px 0 #FFFFFF,0 -1px #FFFFFF} A.6.4.2.2 COO Communities #htmlwidget-93c3c0e75bfdfe5eb9f1 {text-transform:uppercase;text-shadow:-1px 0 #FFFFFF,0 1px #FFFFFF,1px 0 #FFFFFF,0 -1px #FFFFFF} A.6.5 Change in Share of Moderate to High Income Households (%), 2010-2014 A.6.5.1 Plot A.6.5.2 Maps These maps show the proportion of the population that belongs to a community of color for each census tract in Seattle CCD. A.6.5.2.1 Seattle CCD #htmlwidget-fa9d8b94252770b93dd8 {text-transform:uppercase;text-shadow:-1px 0 #FFFFFF,0 1px #FFFFFF,1px 0 #FFFFFF,0 -1px #FFFFFF} A.6.5.2.2 COO Communities #htmlwidget-33c610cc6d5e4e357ee4 {text-transform:uppercase;text-shadow:-1px 0 #FFFFFF,0 1px #FFFFFF,1px 0 #FFFFFF,0 -1px #FFFFFF} -->"]
]
